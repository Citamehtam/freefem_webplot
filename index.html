<html>

<head>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <!-- <script src="js/Chart.bundle.min.js"></script> -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/svg.min.js"></script>

    <!-- <script async src="mathjax/MathJax.js"></script> -->



    <!-- Latest compiled and minified JavaScript -->
    <title>FreeFem++</title>
    <script type="text/javascript">
        
    </script>
    <style>
        body>.container {
            min-height: 75rem;
            padding-top: 10rem;
        }

        form {
            padding-top: 10px;
        }

        .scheme {
            padding-top: 0px;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href="#">FreeFem++</a>
    </nav>
    <main role="main" class="container">
        <div class="row">
            <div class="col-8">
                <div id="dashboard_new">
                    <div id="new_plot" style="transform: scaleY(-1);" ></div>
                </div>
            </div>
            <div class="col-4">

                <!-- <div id="scheme" class="btn-group scheme" role="group" aria-label="...">
                <button type="button" class="btn btn-default" id="m0">Default</button>
                <button type="button" class="btn btn-default" id="m1">M1</button>
                <button type="button" class="btn btn-default" id="m2">M2</button>
                <button type="button" class="btn btn-default" id="m3">M3</button>
            </div> -->

                <div class="dropdown">

                </div>

                <form id="result">

                </form>

            </div>
        </div>
    </main>

</body>
<script>
var mesh_data;
$(document).ready(function () {    

    $.ajax({
        url:'./mesh',
        type: 'GET'
    }).done((mesh)=>{
        console.log(mesh);
        mesh_data = mesh;
        mydraw()
    }).fail((xhr, status, error) =>{
        console.log("Status: " + status + " Error: " + error);
        console.log(xhr);
    })

    
    
});

function mydraw() {
    const w = 500;
    const h = 500;
    var draw = SVG('new_plot').size(w, h)
    mesh_data.forEach((e,i) => {
        var polyline = draw.polygon([[e[0].x * w, e[0].y * h], [e[1].x * w, e[1].y * h], [e[2].x * w, e[2].y * h]])
        polyline.fill('none').stroke({ width: 1 })
    });
}



</script>

</html>